{"version":3,"sources":["./src/app/shared/error-page/error-page.component.ts","./src/app/shared/error-page/error-page.component.html","./src/environments/environment.ts","./src/app/auth/guards/auth.guard.ts","./src/app/interceptors/interceptor.service.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/services/auth.service.ts","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-error-page',\r\n  templateUrl: './error-page.component.html',\r\n  styleUrls: ['./error-page.component.css']\r\n})\r\nexport class ErrorPageComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>error-page works!</p>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  base_url: \"https://desafio-ripleyv1.herokuapp.com/api\"\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, CanLoad, Router, RouterStateSnapshot, UrlSegment, UrlTree } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { tap} from 'rxjs/operators';\nimport { AuthService } from 'src/app/services/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements  CanActivate {\n  prueba:boolean;\n  constructor(private as: AuthService, private router: Router){\n\n  }\n\n  \n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n    \n    return this.as.secret().pipe( \n      tap(auth =>{\n        \n        if (!auth) {\n          this.router.navigateByUrl('/auth/login')\n        }\n       \n      },error =>{\n        this.router.navigateByUrl('/auth/login')\n      }),\n      );\n  }\n  // canLoad(\n  //   route: Route,\n  //   segments: UrlSegment[]): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree {\n       \n  //     //  this.as.secret().subscribe(res =>{\n  //     //    console.log(\"ggg\");\n         \n        \n        \n  //     // }, error => {console.log(error)\n  //     //   if(error['error']){\n  //     //     this.prueba = false;\n  //     //     console.log(\"gg\");\n          \n  //     //     return false;\n  //     //   }\n  //     // });\n  //      return this.as.secret().pipe( \n  //       tap(auth =>{\n          \n  //         this.router.navigateByUrl('/auth/login')\n  //       })  \n  //      );\n    \n     \n  //     console.log(this.prueba);\n      \n     \n  // }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpEvent, HttpHandler, HttpHeaders, HttpInterceptor, HttpRequest } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class InterceptorService implements HttpInterceptor {\n\n  constructor() { }\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    \n    const token: string = localStorage.getItem('token');\n    const headers = new HttpHeaders({\n      Authorization: `Bearer ${token}`\n    });\n\n    let request = req \n    \n    if (token) {\n\n      if (req.url != 'https://bast.dev/api/banks.php') {\n        request = req.clone({\n          headers\n        });\n        \n      }\n      \n      \n    \n    }\n    \n    \n    \n    return next.handle(request);\n    \n\n  }\n\n  \n}\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'desafio-ripley-front';\r\n}\r\n","<router-outlet></router-outlet>","import { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { InterceptorService } from './interceptors/interceptor.service';\r\nimport { ErrorPageComponent } from './shared/error-page/error-page.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    ErrorPageComponent,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    HttpClientModule\r\n  ],\r\n  providers: [ \r\n    HttpClientModule,\r\n  {\r\n    provide: HTTP_INTERCEPTORS,\r\n    useClass: InterceptorService,\r\n    multi: true\r\n  }\r\n],\r\n  bootstrap: [AppComponent],\r\n\r\n})\r\nexport class AppModule { }\r\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { map } from 'rxjs/operators';\nimport { environment } from 'src/environments/environment';\nimport { Login } from '../interfaces/login.interface';\nimport { Register } from '../interfaces/register.interface';\nconst base_url = environment.base_url;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  constructor(private http: HttpClient) { }\n\n  signin(login: Login){\n     return this.http.post(`${base_url}/signin`,login)\n  }\n  signout(){\n    \n    return this.http.get(`${base_url}/signout`);\n  }\n  register(register: Register){\n    return this.http.post(`${base_url}/signup`,register)\n  }\n  secret(){\n    return this.http.get(`${base_url}/secret/${localStorage.getItem('userId')}`).pipe(\n      map( resp =>{\nconsole.log(\"la resouesta es\", resp);\n    return true\n      }, error =>{\n        \n        return false;\n        \n      })\n    )\n  }\n}\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AuthGuard } from './auth/guards/auth.guard';\r\nimport { ErrorPageComponent } from './shared/error-page/error-page.component';\r\n\r\nconst routes: Routes = [\r\n  \r\n  {\r\n    path: 'transferencias',\r\n    loadChildren: () => import('./transferencias/transferencias.module').then(module => module.TransferenciasModule),\r\n    canActivate: [AuthGuard]\r\n  },\r\n  {\r\n    path: 'auth',\r\n    loadChildren: () => import('./auth/auth.module').then(module => module.AuthModule)\r\n    \r\n  },\r\n  {\r\n    path: '',\r\n    pathMatch: 'full',\r\n    redirectTo: 'auth'\r\n   \r\n  },\r\n  {\r\n    path: '**',\r\n    component: ErrorPageComponent\r\n  },\r\n  \r\n  \r\n \r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes, { useHash: true })],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}